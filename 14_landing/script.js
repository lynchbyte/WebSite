function e(e,n){return e=Math.ceil(e),n=Math.floor(n),Math.floor(Math.random()*(n-e)+e)}function n(e){return new Promise((n=>setTimeout(n,e)))}import{PLYLoader as d}from"https://unpkg.com/three@0.143.0/examples/jsm/loaders/PLYLoader.js";const t=new d;const i=e=>{console.log(e.loaded/e.total*100+"%")},o=e=>{console.log(e)};import*as a from"three";import{OrbitControls as s}from"https://unpkg.com/three@0.143.0/examples/jsm/controls/OrbitControls.js";const r=document.querySelector("canvas.webgl"),u=new a.Scene;u.background=new a.Color(14801611);const c=new a.Clock;let f;b();const l=document.querySelector(".blackout");a.Cache.enabled=!0;const h=new a.LoadingManager((()=>{console.log("loaded")}),((e,n,d)=>{console.log(e,n,d)})),w=(new a.FileLoader(h),new a.Group);w.name="group_Backgroud";const m=new a.Group;m.name="group Logo";const p=new a.PerspectiveCamera(50,f.width/f.height,.1,100);p.position.set(0,0,8.5),u.add(p);const g=new a.WebGLRenderer({canvas:r,antialias:!0});g.setSize(f.width,f.height),g.setPixelRatio(Math.min(window.devicePixelRatio,2));const M=new s(p,r);M.enableDamping=!0,function(){const e=new a.AmbientLight(16777215,.8);u.add(e),console.log(e);const n=new a.DirectionalLight(16777215,.2);n.position.set(-.15,.06,1.5),n.castShadow=!0,n.shadow.mapSize.width=1024,n.shadow.mapSize.height=1024,n.shadow.camera.near=-15,n.shadow.camera.far=15,n.shadow.camera.top=10,n.shadow.camera.right=6,n.shadow.camera.bottom=-6,n.shadow.camera.left=-6,n.shadow.radius=10,u.add(n)}();const x=[],y=[];!function(){let d;const t=new a.SphereGeometry(.08,32,16),i=new a.MeshPhysicalMaterial({transparent:!0,opacity:.6,color:16777215,depthTest:!1,metalness:.05,roughness:.3,transmission:.9,thickness:3,ior:1.5,specularIntensity:.85,specularColor:9443100,clearcoat:1,clearcoatRoughness:.14});d=new a.Mesh(t,i),x.push(undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined);for(let n=0;n<20;n++){const t=e(0,10)/10,i=d.clone();i.position.set(0,-5,0),i.scale.set(t,t,t),i.name="Sphere"+n,u.add(i),y.push(i),x[n]=new a.AnimationMixer(i)}const o=[];o.push(undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined);const s=[];s.push(undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined);const r=[];r.push(undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined);for(let d=0;d<20;d++){const t=e(-7.5,7.5)/10*2,i=e(0,10)/10-1.5,u=e(0,10)/10+2,c=e(0,5)/10*2+.5;o[d]=new a.VectorKeyframeTrack(".position",[0,1],[t,i,c,t,u,c]);const f=new a.VectorKeyframeTrack(".scale",[0,1,2],[.5,.5,.5,1,1,1,.75,.75,.75]);s[d]=new a.AnimationClip("Action",1,[o[d],f]),r[d]=x[d].clipAction(s[d]);n(100*e(0,100)).then((()=>{r[d].play()}))}}(),async function(){console.log("loading background");const e=new a.PlaneGeometry(5,5,32,32);let n,d;const 
s=await fetch("14_landing/shaders/bg/vertex.glsl");n=await s.text();const 
r=await fetch("14_landing/shaders/bg/fragment.glsl");d=await r.text();const c=new a.ShaderMaterial({transparent:!0,side:a.DoubleSide,vertexShader:n,fragmentShader:d}),f=new a.Mesh(e,c);f.position.set(2.5,0,0),w.add(f);const h=f.clone();let p,g;h.scale.set=-1,h.rotateY(90*Math.PI/180),f.position.set(0,0,-2.5),w.add(h);const 
M=await fetch("14_landing/shaders/bg_floor/vertex.glsl");p=await M.text();const 
x=await fetch("14_landing/shaders/bg_floor/fragment.glsl");g=await x.text();const y=new a.ShaderMaterial({transparent:!0,side:a.DoubleSide,vertexShader:p,fragmentShader:g}),S=new a.Mesh(e,y);S.rotateX(-90*Math.PI/180),S.position.set(0,-2.5,0),w.add(S),w.position.set(0,.5,0),w.rotateY(45*Math.PI/180),u.add(w),async function(){const 
e="14_landing/lb_spicy_rice_01.ply",n=new a.Vector3(1.5,1.5,1.5),d=new a.Vector3(0,1,0),s=new a.Euler(90*Math.PI/180,180*Math.PI/180,0*Math.PI/180),r="Logo",c=new a.MeshStandardMaterial({color:14684843});c.metalness=.1,c.roughness=.4,t.load(e,(e=>f(e,n,r)),i,o);const f=(e,n,d)=>{e.computeVertexNormals();const t=new a.Mesh(e,c);console.log("model,",t),t.scale.copy(n);new a.Vector3(0,0,0);const i=(new a.Box3).setFromObject(t);i.getCenter(new a.Vector3),i.getSize(new a.Vector3),(new a.Box3).setFromObject(t),new a.BoxHelper(t,16192034);t.traverse((function(e){e.isMesh&&(e.material=c)})),t.name=d,m.add(t)};m.position.copy(d),m.setRotationFromEuler(s),u.add(m),h=l,w=3e3,p=w/1e3,h.style.transition="opacity "+p+"s ease",h.style.opacity=0,setTimeout((function(){h.remove()}),w);var h,w,p}()}(),window.addEventListener("resize",(()=>{b(),p.aspect=f.width/f.height,p.updateProjectionMatrix(),g.setSize(f.width,f.height),g.setPixelRatio(Math.min(window.devicePixelRatio,2))})),setTimeout((function(){console.log(u)}),3e3);const S=()=>{const e=c.getDelta(),n=c.getElapsedTime();M.update(),m.rotateZ(.008*Math.sin(n)),y.length>1&&x.forEach((n=>n.update(.2*e))),g.render(u,p),window.requestAnimationFrame(S)};function b(){const e=.95;f=window.innerWidth>window.innerHeight?{width:window.innerHeight*e,height:window.innerHeight*e}:{width:window.innerWidth*e,height:window.innerWidth*e}}S();